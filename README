Copied from ryanb's dotfiles collection, then adapted for my own use.

